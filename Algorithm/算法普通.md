[TOC]
# 一、数组中的最长山脉

我们把数组 A 中符合下列属性的任意连续子数组 B 称为 “山脉”：

1、B.length >= 3

2、存在 0 < i < B.length - 1 ，

使得 B[0] < B[1] < ... B[i-1] < B[i] > B[i+1] > ... > B[B.length - 1]

示例1：

```
输入：[2,1,4,7,3,2,5]
输出：5
解释：最长的 “山脉” 是 [1,4,7,3,2]，长度为 5。
```

示例2：
```
输入：[2,2,2]
输出：0
解释：不含 “山脉”。
```

```java
//核心思想：枚举遍历数组，比较所有山脉的长度
public int longestMountain(int[] A) {
        //如果不满足第一条，直接返回0
        if (A == null || A.length < 3) {
            return 0;
        }
        //定义山脉的起始，最高峰，结束位置
        int start,end,top = 0;
        int max = 0;
        for (int i = 0; i < A.length - 1;) {
            start = i;
            while (i < A.length - 1 && A[i + 1] > A[i]) {
                top = i + 1;
                i++;
            }
            end = i ;
            while (i < A.length - 1 && A[i + 1] < A[i]) {
                end = i + 1;
                i++;
            }
            //如果峰顶∈（start，end）中则这条山脉有效
            if (start < top && top < end) {
                max = Math.max(max , end - start + 1);
            } else {
                //如果 start == end == top 则当前i++
                if (start == end && start == top) {
                    i++;
                }
                start = end = top = i;
            }
        }
        return max;
    }
```